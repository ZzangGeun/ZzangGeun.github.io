{%- comment -%}
í¬ìŠ¤íŠ¸ ëª©ë¡ ìƒì„±
í™ˆí˜ì´ì§€ì—ì„œ ì‚¬ìš©ë˜ëŠ” í¬ìŠ¤íŠ¸ ëª©ë¡ì„ ìƒì„±
{%- endcomment -%}

{%- if site.posts.size > 0 -%}        
<div class="post-list-header">
  <h2 class="post-list-heading">{{ page.list_title | default: "ìµœê·¼ ê²Œì‹œê¸€" }}</h2>
  <div class="header-buttons">
    <button class="header-btn active" data-section="recent">
      <span class="btn-icon">ğŸ“</span>
      <span class="btn-text">ìµœê·¼ ê²Œì‹œê¸€</span>
    </button>
    <button class="header-btn" data-section="series">
      <span class="btn-icon">ğŸ“š</span>
      <span class="btn-text">ì‹œë¦¬ì¦ˆ</span>
    </button>
    <button class="header-btn" data-section="intro">
      <span class="btn-icon">ğŸ‘‹</span>
      <span class="btn-text">ë¸”ë¡œê·¸ ì†Œê°œ</span>
    </button>
  </div>
</div>

{%- comment -%} ìµœê·¼ ê²Œì‹œê¸€ ì„¹ì…˜ {%- endcomment -%}
<div id="recent-section" class="content-section active">
  <ul class="post-list">
    {%- for post in site.posts -%}
    <li>
      <a class="post-link" href="{{ post.url | relative_url }}">
        <div class="post-item">
          {%- comment -%} ì‹œë¦¬ì¦ˆ ì •ë³´ {%- endcomment -%}
          {%- if post.series -%}
            <div class="post-series">
              <span class="series-tag">ğŸ“š {{ post.series }}</span>
            </div>
          {%- endif -%}
          
          {%- comment -%} íƒœê·¸ ì •ë³´ {%- endcomment -%}
          {%- if post.tag -%}                
          <div class="post-tags">
              {%- assign tags = post.tag | split: ' ' -%}
              {%- for tag in tags -%}
                <span class="tag-item">{{ tag }}</span>
              {%- endfor -%}
          </div>
          {%- endif -%}
          
          <h3>{{ post.title | escape }}</h3>
          
          <span class="post-meta">{{ post.date | date: "%Yë…„ %mì›” %dì¼" }}</span>
          
          {%- if site.show_excerpts -%}
            <p class="post-excerpt">{{ post.excerpt | strip_html | truncatewords: 30 }}</p>
          {%- endif -%}
        </div>
      </a>
    </li>
    {%- endfor -%}
  </ul>
</div>
{%- endif -%}

{%- comment -%} ì‹œë¦¬ì¦ˆë³„ ê²Œì‹œê¸€ ì„¹ì…˜ {%- endcomment -%}
<div id="series-section" class="content-section">
  <div class="series-content">
    {%- assign series_posts = site.posts | group_by: 'series' -%}
    {%- for series in series_posts -%}
      {%- if series.name != '' -%}
        <div class="series-group">
          <h3 class="series-title">ğŸ“š {{ series.name }}</h3>
          <ul class="series-post-list">
            {%- for post in series.items -%}
            <li class="series-post-item">
              <a href="{{ post.url | relative_url }}" class="series-post-link">
                {{ post.title | escape }}
              </a>
              <span class="series-post-date">{{ post.date | date: "%Y.%m.%d" }}</span>
            </li>
            {%- endfor -%}
          </ul>
        </div>
      {%- endif -%}
    {%- endfor -%}
  </div>
</div>

{%- comment -%} ë¸”ë¡œê·¸ ì†Œê°œ ì„¹ì…˜ {%- endcomment -%}
<div id="intro-section" class="content-section">
  <div class="intro-content">
    <div class="welcome-card">
      <h2>ğŸ‘‹ ì•ˆë…•í•˜ì„¸ìš”! ZzangGeunì˜ ë¸”ë¡œê·¸ì…ë‹ˆë‹¤</h2>
      <p>í”„ë¡œê·¸ë˜ë°, ê°œë°œ ê²½í—˜, ê·¸ë¦¬ê³  ì¼ìƒì„ ê¸°ë¡í•˜ëŠ” ê³µê°„ì…ë‹ˆë‹¤.</p>
      
      <div class="intro-stats">
        <div class="stat-item">
          <span class="stat-number">{{ site.posts.size }}</span>
          <span class="stat-label">ì´ ê²Œì‹œê¸€</span>
        </div>
        <div class="stat-item">
          {%- assign series_count = site.posts | map: 'series' | uniq | size -%}
          <span class="stat-number">{{ series_count | minus: 1 }}</span>
          <span class="stat-label">ì‹œë¦¬ì¦ˆ</span>
        </div>
        <div class="stat-item">
          {%- assign all_tags = site.posts | map: 'tag' | join: ' ' | split: ' ' | uniq -%}
          <span class="stat-number">{{ all_tags.size }}</span>
          <span class="stat-label">íƒœê·¸</span>
        </div>
      </div>
      
      <div class="intro-features">
        <h3>ğŸš€ ì£¼ìš” ê¸°ëŠ¥</h3>
        <ul>
          <li>ğŸ“ <strong>ë§ˆí¬ë‹¤ìš´ ì§€ì›</strong>: ì½”ë“œ ë¸”ë¡, LaTeX ìˆ˜ì‹ ë Œë”ë§</li>
          <li>ğŸ·ï¸ <strong>íƒœê·¸ ì‹œìŠ¤í…œ</strong>: íƒœê·¸ë³„ í¬ìŠ¤íŠ¸ í•„í„°ë§</li>
          <li>ğŸ“š <strong>ì‹œë¦¬ì¦ˆ ê¸°ëŠ¥</strong>: ì—°ê´€ëœ í¬ìŠ¤íŠ¸ë“¤ì„ ì‹œë¦¬ì¦ˆë¡œ ê·¸ë£¹í•‘</li>
          <li>ğŸ“‹ <strong>ì½”ë“œ ë³µì‚¬</strong>: VSCode ìŠ¤íƒ€ì¼ ì½”ë“œ ë¸”ë¡</li>
          <li>ğŸ“± <strong>ë°˜ì‘í˜• ë””ìì¸</strong>: ëª¨ë°”ì¼ ì¹œí™”ì  ë ˆì´ì•„ì›ƒ</li>
        </ul>
      </div>
      
      <div class="intro-contact">
        <h3>ğŸ“ ì—°ë½ì²˜</h3>
        <p>
          <a href="mailto:ccg700@naver.com" class="contact-link">ğŸ“§ ccg700@naver.com</a><br>
          <a href="https://github.com/ZzangGeun" class="contact-link">ğŸ’» GitHub: ZzangGeun</a>
        </p>
      </div>
    </div>  </div>
</div>

<script>
/**
 * ë™ì  ì½˜í…ì¸  ì „í™˜ ê¸°ëŠ¥
 * ë²„íŠ¼ í´ë¦­ìœ¼ë¡œ í˜ì´ì§€ ì´ë™ ì—†ì´ ë‚´ìš© ë³€ê²½
 */
document.addEventListener('DOMContentLoaded', function() {
  const buttons = document.querySelectorAll('.header-btn');
  const sections = document.querySelectorAll('.content-section');
  
  // ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
  buttons.forEach(button => {
    button.addEventListener('click', function() {
      const targetSection = this.getAttribute('data-section');
      
      // ëª¨ë“  ë²„íŠ¼ì—ì„œ active í´ë˜ìŠ¤ ì œê±°
      buttons.forEach(btn => btn.classList.remove('active'));
      
      // ëª¨ë“  ì„¹ì…˜ ìˆ¨ê¹€
      sections.forEach(section => section.classList.remove('active'));
      
      // í´ë¦­ëœ ë²„íŠ¼ì— active í´ë˜ìŠ¤ ì¶”ê°€
      this.classList.add('active');
      
      // í•´ë‹¹ ì„¹ì…˜ í‘œì‹œ
      const targetElement = document.getElementById(targetSection + '-section');
      if (targetElement) {
        targetElement.classList.add('active');
      }
      
      // ì œëª© ì—…ë°ì´íŠ¸
      const heading = document.querySelector('.post-list-heading');
      if (heading) {
        switch(targetSection) {
          case 'recent':
            heading.textContent = 'ìµœê·¼ ê²Œì‹œê¸€';
            break;
          case 'series':
            heading.textContent = 'ì‹œë¦¬ì¦ˆë³„ ê²Œì‹œê¸€';
            break;
          case 'intro':
            heading.textContent = 'ë¸”ë¡œê·¸ ì†Œê°œ';
            break;
        }
      }
    });
  });
});
</script>
